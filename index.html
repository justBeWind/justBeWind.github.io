<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>justBeWind的博客</title><meta name="author" content="justBeWind"><meta name="copyright" content="justBeWind"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="justBeWind的博客">
<meta property="og:url" content="http://justbewind.github.io/index.html">
<meta property="og:site_name" content="justBeWind的博客">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://z1.ax1x.com/2023/10/02/pPLbF9s.jpg">
<meta property="article:author" content="justBeWind">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://z1.ax1x.com/2023/10/02/pPLbF9s.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://justbewind.github.io/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'justBeWind的博客',
  isPost: false,
  isHome: true,
  isHighlightShrink: true,
  isToc: false,
  postUpdate: '2023-12-20 16:42:30'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://z1.ax1x.com/2023/10/02/pPLbF9s.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">20</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">30</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://z1.ax1x.com/2023/10/02/pPLbB8A.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="justBeWind的博客"><span class="site-name">justBeWind的博客</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">justBeWind的博客</h1><div id="site-subtitle"><span id="subtitle"></span></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/12/19/mybatisPlus-%E4%BD%BF%E7%94%A8%E5%B0%8F%E7%BB%93/" title="mybatisPlus 使用小结">mybatisPlus 使用小结</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-12-19T12:58:23.000Z" title="发表于 2023-12-19 20:58:23">2023-12-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a class="twikoo-count" href="/2023/12/19/mybatisPlus-%E4%BD%BF%E7%94%A8%E5%B0%8F%E7%BB%93/#post-comment"><i class="fa-solid fa-spinner fa-spin"></i></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">前言mybatis plus 完全兼容mybatis， 因此哪怕原来的项目是基于mybatis的，注入mybatis plus 后不会受到任何影响
快速上手官方文档地址：快速开始 | MyBatis-Plus (baomidou.com)
1.配置起步依赖:
12345&lt;dependency&gt;    &lt;groupId&gt;com.baomidou&lt;/groupId&gt;    &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;    &lt;version&gt;3.5.3.1&lt;/version&gt;&lt;/dependency&gt;

2、自定义的mapper 继承BaseMapper接口即可
123public interface UserMapper extends BaseMapper&lt;User&gt;&#123;&#125;

常见注解mybatis plus 是基于反射去获取实体类信息 作为数据库表信息的
那么假如 实体的信息和数据库表的字段信息不匹配 （ ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/12/15/MySQL%E6%97%A5%E5%BF%97%E6%95%B4%E7%90%86/" title="MySQL日志整理">MySQL日志整理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-12-15T13:45:58.000Z" title="发表于 2023-12-15 21:45:58">2023-12-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a class="twikoo-count" href="/2023/12/15/MySQL%E6%97%A5%E5%BF%97%E6%95%B4%E7%90%86/#post-comment"><i class="fa-solid fa-spinner fa-spin"></i></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">前言MySQL中有三种日志，undo log、redo log、 binlog

undo log（回滚日志）：是 Innodb 存储引擎层生成的日志，实现了事务中的原子性，主要用于事务回滚和 MVCC。
redo log（重做日志）：是 Innodb 存储引擎层生成的日志，实现了事务中的持久性，主要用于掉电等故障恢复；
binlog （归档日志）：是 Server 层生成的日志，主要用于数据备份和主从复制；

undo log作用undo log 是一种用于撤销回退的日志。在事务没提交之前，MySQL 会先记录更新前的数据到 undo log 日志文件里面，当事务回滚时，可以利用 undo log 来进行回滚。
它保证了事务的原子性（Atomicity）。
undo log 还有另外一个作用：
实现 MVCC（多版本并发控制）关键因素之一。MVCC 是通过 ReadView + undo log 实现的。undo log 为每条记录保存多份历史数据，MySQL 在执行快照读（普通 select 语句）的时候，会根据事务的 Read View 里的信息，顺着 undo log 的版本链 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/12/09/%E7%AE%97%E6%B3%95%E5%A4%8D%E7%9B%98%EF%BC%9A%E5%B1%B1%E8%84%89%E6%95%B0%E7%BB%84/" title="算法复盘：山脉数组">算法复盘：山脉数组</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-12-09T14:14:17.000Z" title="发表于 2023-12-09 22:14:17">2023-12-09</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a class="twikoo-count" href="/2023/12/09/%E7%AE%97%E6%B3%95%E5%A4%8D%E7%9B%98%EF%BC%9A%E5%B1%B1%E8%84%89%E6%95%B0%E7%BB%84/#post-comment"><i class="fa-solid fa-spinner fa-spin"></i></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">题目题目链接：LCR 069. 山脉数组的峰顶索引 - 力扣（LeetCode）
符合下列属性的数组 arr 称为 山峰数组（山脉数组） ：

arr.length &gt;= 3

存在
1i

10 &lt; i &lt; arr.length - 1

使得：

arr[0] &lt; arr[1] &lt; ... arr[i-1] &lt; arr[i] 
arr[i] &gt; arr[i+1] &gt; ... &gt; arr[arr.length - 1]



给定由整数组成的山峰数组 arr ，返回任何满足 arr[0] &lt; arr[1] &lt; ... arr[i - 1] &lt; arr[i] &gt; arr[i + 1] &gt; ... &gt; arr[arr.length - 1] 的下标 i ，即山峰顶部。
示例 1：
12输入：arr = [0,1,0]输出：1

示例 2：
12输入：arr = [1,3,5,4,2]输出：2

要求：请用两种方法解决这道题目
方法一：暴力遍历法
可以观察发现，从左往右查找峰顶的过程中 数值是不断上升 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/11/19/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%AC%94%E8%AE%B0/" title="设计模式笔记">设计模式笔记</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-11-19T14:53:37.000Z" title="发表于 2023-11-19 22:53:37">2023-11-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a class="twikoo-count" href="/2023/11/19/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%AC%94%E8%AE%B0/#post-comment"><i class="fa-solid fa-spinner fa-spin"></i></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">为什么要用设计模式使⽤设计模式是为了重⽤代码、让代码更容易被他⼈理解、保证代码可靠性。
设计模式的原则这里介绍设计模式中较为重要的三个原则

开闭原则
扩展开发原则
单一职责原则


开闭原则 (Open&#x2F;Closed Principle, OCP):
定义： 软件实体（类、模块、函数等）应该对扩展开放，对修改关闭。
意义： 当需要添加新的功能时，不应该修改已有的代码，而是通过扩展（增加新的代码）来实现。这可以提高代码的可维护性和可扩展性。
实现方式： 使用接口和抽象类定义抽象，通过继承或实现这些抽象来实现扩展。利用设计模式如策略模式、观察者模式等，以使得新功能可以通过添加新的类来实现而不是修改已有类。


扩展开发原则 (Liskov Substitution Principle, LSP):
定义： 子类必须能够替换掉它们的基类（父类）而不影响程序的正确性。
意义： 如果一个软件实体使用了基类，那么替换为其子类也不应该影响程序的行为。这确保了在继承关系中的一致性和稳定性。
实现方式： 子类必须保持父类的行为，不得重写、修改或删除父类的方法，而只能添加新的方法。


单一职 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/11/18/%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95%E5%92%8C%E7%AD%BE%E5%90%8D%E7%AE%97%E6%B3%95/" title="加密算法和签名算法">加密算法和签名算法</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-11-18T13:42:03.000Z" title="发表于 2023-11-18 21:42:03">2023-11-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a class="twikoo-count" href="/2023/11/18/%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95%E5%92%8C%E7%AD%BE%E5%90%8D%E7%AE%97%E6%B3%95/#post-comment"><i class="fa-solid fa-spinner fa-spin"></i></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">加密算法
数据加密就是对原来为明文的文件或数据按某种算法进行处理，使其成为不可读的一段“密文”，该密文只能在输入相应的密钥之后才能显示出原本的数据

对称加密采用同一个密钥可以同时用作信息的加密和解密，这种加密方法称为对称加密，也称为单密钥加密。这种加密方式的特点是加密解密速度快
存在的缺点也很明显，通信双方需要约定一个密钥，并需要保证不被黑客获取
非对称加密非对称加密需要两个密钥：公开密钥（publickey:简称公钥）和私有密钥（privatekey:简称私钥）。公钥与私钥是一对，如果用公钥对数据进行加密，只有用对应的私钥才能解密。
非对称加密存在如下特点：

公钥可以暴露给任何人，私钥只能自己保存（私钥相当于自己在网络环境下的身份证）。
公钥加密的数据、只有对应的私钥才能解密（比较常用的加密场景）
私钥加密的数据、也同样只有对应的公钥才能解密

虽然任何人都可以拿到公钥进行解密，但是由于私钥是只保存在你这里的，所以只要可以通过你的公钥进行解密的数据就一定是由你进行加密的，这样即使黑客可以用公钥解密出数据，也不能进行修改，因为修改过后因为缺乏私钥无法进行加密，所以私钥也相当于是你个 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/11/11/Java%E9%9B%86%E5%90%88%EF%BC%9A%E7%BA%BF%E7%A8%8B%E4%B8%8D%E5%AE%89%E5%85%A8%E7%AF%87/" title="Java集合：线程不安全篇">Java集合：线程不安全篇</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-11-11T13:43:44.000Z" title="发表于 2023-11-11 21:43:44">2023-11-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a class="twikoo-count" href="/2023/11/11/Java%E9%9B%86%E5%90%88%EF%BC%9A%E7%BA%BF%E7%A8%8B%E4%B8%8D%E5%AE%89%E5%85%A8%E7%AF%87/#post-comment"><i class="fa-solid fa-spinner fa-spin"></i></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">ArrayList为什么线程不安全？ArrayList的线程不安全主要体现在它的add方法中，有一步是elementData[size++] &#x3D; e
核心问题就在于 elementData[size++] &#x3D; e;不是原子操作
实际做了两个大的步骤：

判断elementData数组容量是否满足需求
在elementData对应位置上设置值

基于这个原因，在使用ArrayList的时候，会碰到如下的线程安全隐患：
1.数组越界

当前ArrayList中有9个元素
线程A开始进入add方法，这时它获取到size的值为9，调用ensureCapacityInternal方法进行容量判断。
线程B此时也进入add方法，它获取到size的值也为9，也开始调用ensureCapacityInternal方法。
线程A发现需求大小为10，而elementData的大小就为10，可以容纳。于是它不再扩容，返回。
线程B也发现需求大小为10，也可以容纳，返回。
线程A开始进行设置值操作， elementData[size++] &#x3D; e 操作。此时size变为10。
线 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/11/07/Spring-Boot%E9%A1%B9%E7%9B%AE%E5%90%8D%E7%A7%B0%E4%BF%AE%E6%94%B9%E6%96%B9%E6%B3%95%E8%AE%B0%E5%BD%95/" title="Spring Boot项目名称修改方法记录">Spring Boot项目名称修改方法记录</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-11-07T14:23:27.000Z" title="发表于 2023-11-07 22:23:27">2023-11-07</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a class="twikoo-count" href="/2023/11/07/Spring-Boot%E9%A1%B9%E7%9B%AE%E5%90%8D%E7%A7%B0%E4%BF%AE%E6%94%B9%E6%96%B9%E6%B3%95%E8%AE%B0%E5%BD%95/#post-comment"><i class="fa-solid fa-spinner fa-spin"></i></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">大致流程首先，点击项目的最顶层（带蓝色小标的地方），点击重构，然后重命名

其次，在maven文件中，找到项目的名称，修改名称

接着，点击 【文件】 - 【项目结构】，修改项目名称，点击应用

接着，点击【模块】，看看模块是不是名称已经更改过来。

随后，关掉项目，修改去文件系统中，修改文件夹的名字

最后，重新打开项目，等待maven重新构建即可
</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/10/31/%E5%88%86%E5%B8%83%E5%BC%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/" title="分布式算法总结">分布式算法总结</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-10-31T03:40:34.000Z" title="发表于 2023-10-31 11:40:34">2023-10-31</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a class="twikoo-count" href="/2023/10/31/%E5%88%86%E5%B8%83%E5%BC%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/#post-comment"><i class="fa-solid fa-spinner fa-spin"></i></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">前言本文仅是对分布式算法 - 一致性Hash算法 | Java 全栈知识体系 (pdai.tech) 该专题下的分布式算法的一个笔记总结，原文请参考该链接。
一致性哈希算法解决的问题一致性哈希算法解决了分布式系统中数据分片和负载均衡的问题。

在传统的哈希算法中，当节点数量发生变化时，需要重新计算大部分数据的哈希值，这导致了大量的数据迁移。一致性哈希算法通过引入虚拟节点的概念，以及使用环形哈希空间，解决了这个问题，提供了更好的扩展性和容错性。

判定一致性哈希算法的标准判定哈希算法好坏的四个定义:
平衡性(Balance): 平衡性是指哈希的结果能够尽可能分布到所有的缓冲中去，这样可以使得所有的缓冲空间都得到利用。很多哈希算法都能够满足这一条件。
单调性(Monotonicity): 单调性是指如果已经有一些内容通过哈希分派到了相应的缓冲中，又有新的缓冲加入到系统中。哈希的结果应能够保证原有已分配的内容可以被映射到原有的或者新的缓冲中去，而不会被映射到旧的缓冲集合中的其他缓冲区。
分散性(Spread): 在分布式环境中，相同的内容被不同的终端映射到不同的缓冲区中**。分散性的定义就是 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/10/30/%E5%B9%BF%E5%B7%9E%E5%AE%9D%E8%97%8F%E5%B0%8F%E5%BA%97/" title="广州宝藏小店">广州宝藏小店</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-10-30T14:20:04.000Z" title="发表于 2023-10-30 22:20:04">2023-10-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a class="twikoo-count" href="/2023/10/30/%E5%B9%BF%E5%B7%9E%E5%AE%9D%E8%97%8F%E5%B0%8F%E5%BA%97/#post-comment"><i class="fa-solid fa-spinner fa-spin"></i></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">粤菜馆6.醉贤居饭店 咸香鸡地址：广州市荔湾区逢源街道华贵路12号(长寿路地铁站B口步行250米)8.汤氏美食  黄鳝饭 耗仔煎蛋地址：广州市荔湾区龙津东路717号
10.大家福美食 啫啫煲 鸡和通菜地址：荔湾区芳村大道东169号961创意园招商中心旁
11.潮汕永记鹅肉店 晚上11点后才开地址：广州市白云区乐嘉路宏景街72号103号1.夏茅维记 烧鹅 + 豆腐地址：广州市白云区广花一路广州世盛工业展览中心一号门旁
4.烧鹅全餐厅 烧鹅 鹅肠地址：广州市番禺区横江村朱地大街塘边自编1号5.添味味鱼粥地址：广州市番禺区南业路18号
9.源记粤菜 杏花鸡地址：广州市番禺区桥南街道建业路103号
6.广州仔潮汕仔美食 青口 蒜香骨 人均25
地址：天河区 荔枝岗大街村囗3号 
牛杂阿姨车仔牛杂：
地址 ：越秀区建设横马路渔米库重庆香辣馆旁
煲仔饭煲仔饭1.庙街地址：越秀区 珠光街道东堤二马路10号（团一大广场地铁站B口步行260米）
5.两味煲仔饭 最好11点前去 可以自定义地址：荔湾区 金花街道龙津中路597号103房
肠粉4.炜明肠粉 猪杂生肉粥地址：荔湾区中山七路紫贵坊15号
6.华记 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/10/29/%E6%85%A2%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96%E6%8E%A2%E7%B4%A2/" title="慢查询优化探索">慢查询优化探索</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-10-29T13:50:28.000Z" title="发表于 2023-10-29 21:50:28">2023-10-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a class="twikoo-count" href="/2023/10/29/%E6%85%A2%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96%E6%8E%A2%E7%B4%A2/#post-comment"><i class="fa-solid fa-spinner fa-spin"></i></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">概念慢查询是指数据库中查询时间超过指定阈值（美团设置为100ms）的SQL
那么如何优化慢查询呢？最直接有效的方法就是选用一个查询效率高的索引。
传统的优化慢查询的思路：优化慢查询的方法_Pluto_CSND的博客-CSDN博客

本文探索的慢SQL分析与优化，主要针对的是MySQL-InnoDB 的情况。

影响SQL语句执行效率的因素
数据量

SQL 执行后返回给客户端的数据量的大小；

数据量越大需要扫描的 I&#x2F;O 次数越多，数据库服务器的 IO 更容易成为瓶颈。



取数据的方式

数据在缓存中还是在磁盘上；

是否能够通过全局索引快速寻址；

是否结合谓词条件命中全局索引加速扫描。



数据加工的方式

排序、子查询、聚合、关联等，一般需要先把数据取到临时表中，再对数据进行加工；

对于数据量比较多的计算，会消耗大量计算节点的 CPU 资源，让数据加工变得更加缓慢；

是否选择了合适的 join 方式




传统的优化思路首先，使用 explain select … 分析查询计划，找出耗时部分，从而定位原因。
优化思路一般有如下方式：

减少数据扫描（减少磁 ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://z1.ax1x.com/2023/10/02/pPLbF9s.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">justBeWind</div><div class="author-info__description">何其光，同其尘</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">20</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">30</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://gitee.com/justBeWind"><i class="fab fa-github"></i><span>关注我</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到我的世界</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/12/19/mybatisPlus-%E4%BD%BF%E7%94%A8%E5%B0%8F%E7%BB%93/" title="mybatisPlus 使用小结">mybatisPlus 使用小结</a><time datetime="2023-12-19T12:58:23.000Z" title="发表于 2023-12-19 20:58:23">2023-12-19</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/12/15/MySQL%E6%97%A5%E5%BF%97%E6%95%B4%E7%90%86/" title="MySQL日志整理">MySQL日志整理</a><time datetime="2023-12-15T13:45:58.000Z" title="发表于 2023-12-15 21:45:58">2023-12-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/12/09/%E7%AE%97%E6%B3%95%E5%A4%8D%E7%9B%98%EF%BC%9A%E5%B1%B1%E8%84%89%E6%95%B0%E7%BB%84/" title="算法复盘：山脉数组">算法复盘：山脉数组</a><time datetime="2023-12-09T14:14:17.000Z" title="发表于 2023-12-09 22:14:17">2023-12-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/11/19/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%AC%94%E8%AE%B0/" title="设计模式笔记">设计模式笔记</a><time datetime="2023-11-19T14:53:37.000Z" title="发表于 2023-11-19 22:53:37">2023-11-19</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/11/18/%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95%E5%92%8C%E7%AD%BE%E5%90%8D%E7%AE%97%E6%B3%95/" title="加密算法和签名算法">加密算法和签名算法</a><time datetime="2023-11-18T13:42:03.000Z" title="发表于 2023-11-18 21:42:03">2023-11-18</time></div></div></div></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E7%AE%97%E6%B3%95/" style="font-size: 1.1em; color: #999">分布式算法</a> <a href="/tags/%E5%AE%B9%E5%99%A8/" style="font-size: 1.1em; color: #999">容器</a> <a href="/tags/%E9%A1%B9%E7%9B%AE/" style="font-size: 1.1em; color: #999">项目</a> <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" style="font-size: 1.1em; color: #999">分布式</a> <a href="/tags/%E8%BF%81%E7%A7%BB/" style="font-size: 1.1em; color: #999">迁移</a> <a href="/tags/%E9%98%85%E8%AF%BB/" style="font-size: 1.1em; color: #999">阅读</a> <a href="/tags/ConcurrentHashMap/" style="font-size: 1.1em; color: #999">ConcurrentHashMap</a> <a href="/tags/MySQL/" style="font-size: 1.3em; color: #99a1ac">MySQL</a> <a href="/tags/Java/" style="font-size: 1.1em; color: #999">Java</a> <a href="/tags/%E5%87%A4%E5%87%B0%E6%9E%B6%E6%9E%84/" style="font-size: 1.1em; color: #999">凤凰架构</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 1.1em; color: #999">设计模式</a> <a href="/tags/%E6%82%B2%E8%A7%82%E9%94%81/" style="font-size: 1.1em; color: #999">悲观锁</a> <a href="/tags/markdown/" style="font-size: 1.1em; color: #999">markdown</a> <a href="/tags/Synchronized/" style="font-size: 1.1em; color: #999">Synchronized</a> <a href="/tags/%E7%AD%BE%E5%90%8D%E7%AE%97%E6%B3%95/" style="font-size: 1.1em; color: #999">签名算法</a> <a href="/tags/Java%E9%9B%86%E5%90%88/" style="font-size: 1.5em; color: #99a9bf">Java集合</a> <a href="/tags/%E5%A4%8D%E7%9B%98/" style="font-size: 1.1em; color: #999">复盘</a> <a href="/tags/%E5%AE%9D%E8%97%8F%E5%B0%8F%E5%BA%97/" style="font-size: 1.1em; color: #999">宝藏小店</a> <a href="/tags/Java%E5%B9%B6%E5%8F%91/" style="font-size: 1.5em; color: #99a9bf">Java并发</a> <a href="/tags/Spring-Boot/" style="font-size: 1.1em; color: #999">Spring Boot</a> <a href="/tags/%E7%BE%8E%E9%A3%9F/" style="font-size: 1.1em; color: #999">美食</a> <a href="/tags/Typora/" style="font-size: 1.1em; color: #999">Typora</a> <a href="/tags/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/" style="font-size: 1.1em; color: #999">云服务器</a> <a href="/tags/%E6%85%A2%E6%9F%A5%E8%AF%A2/" style="font-size: 1.1em; color: #999">慢查询</a> <a href="/tags/%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95/" style="font-size: 1.1em; color: #999">加密算法</a> <a href="/tags/API/" style="font-size: 1.1em; color: #999">API</a> <a href="/tags/HashMap/" style="font-size: 1.1em; color: #999">HashMap</a> <a href="/tags/Redis/" style="font-size: 1.1em; color: #999">Redis</a> <a href="/tags/ThreadLocal/" style="font-size: 1.1em; color: #999">ThreadLocal</a> <a href="/tags/%E4%B9%90%E8%A7%82%E9%94%81/" style="font-size: 1.1em; color: #999">乐观锁</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/12/"><span class="card-archive-list-date">十二月 2023</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/11/"><span class="card-archive-list-date">十一月 2023</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">十月 2023</span><span class="card-archive-list-count">13</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">20</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2023-10-01T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">33.9k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-12-20T08:42:30.352Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By justBeWind</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(() => { 
  const getCommentUrl = () => {
    const eleGroup = document.querySelectorAll('#recent-posts .article-title')
    let urlArray = []
    eleGroup.forEach(i=>{
      urlArray.push(i.getAttribute('href'))
    })
    return urlArray
  }

  const getCount = () => {
    const runTwikoo = () => {
      twikoo.getCommentsCount({
        envId: 'https://my-twikoo-ipkud44xf-justbewind.vercel.app',
        region: '',
        urls: getCommentUrl(),
        includeReply: false
      }).then(function (res) {
        document.querySelectorAll('#recent-posts .twikoo-count').forEach((item,index) => {
          item.textContent = res[index].count
        })
      }).catch(function (err) {
        console.log(err)
      })
    }

      if (typeof twikoo === 'object') {
        runTwikoo()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(runTwikoo)
      }
  }

  window.pjax ? getCount() : window.addEventListener('load', getCount)

})()</script><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/dist/typed.umd.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["这里拒绝一切的软弱和拖延","今年的计划还记得吗","尽管目光所及之处，只是不远的前方，但还有许多值得去完成的工作"])
  } else {
    document.getElementById("subtitle").textContent = "这里拒绝一切的软弱和拖延"
  }
}
typedJSFn.run(subtitleType)</script></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>